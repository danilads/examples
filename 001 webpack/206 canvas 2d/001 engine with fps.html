<!DOCTYPE html> 
<html>
<head>
	<meta charset="utf-8" />
	<title></title>
	<style>
		html, body {
	      width:  100%;
	      height: 100%;
	      margin: 0;
	    }
	</style>
</head>
<body>
	<canvas id="canv" width="150" height="150"></canvas>
	<!--	FPS	-->
		<div style="position: absolute; top: 0; left: 15px" id='fpsNow'>0</div>
		<div style="display: inline-block; position: absolute; left: 6px; top: 0;"class="anim" id='spinner'>|</div>
	<!--	   	-->
<script>

/*--------*/
/* State */
let MyGame= {};
let prevTick = 0;


/*---------*/
/* Engine */
	(function () {
		function main( tFrame ) {
			//запускать requestAnimationFrame нужно именно здесь(чтобы браузер получил кадр вовремя)
			MyGame.stopMain = window.requestAnimationFrame( main );

			let nextTick = MyGame.lastTick + MyGame.tickLength;
			let numTicks = 0;

			if (tFrame > nextTick) {
				let timeSinceTick = tFrame - MyGame.lastTick;
				numTicks = Math.floor( timeSinceTick / MyGame.tickLength );
			}


			// считаем разницу между тиками
			let diff = tFrame - prevTick;
			render( tFrame, diff );
			// записываем предыдущий тик
			prevTick = tFrame;

		}

		setInitialState();
		MyGame.lastTick = performance.now();
		MyGame.tickLength = 1000/FrameLimitFPS;

		
		main(performance.now()); // Start the cycle
	})();


function render(tick){
	console.log(tick);
};

</script>

<body>
	
</body>
</html>