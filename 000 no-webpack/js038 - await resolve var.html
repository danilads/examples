<!DOCTYPE html> 
<html>
<head>
	<meta charset="utf-8" />
    <title></title>
</head>
<body>
	<script>
	////-----
//  01)ПРИМЕР БЕЗ PROMISE
  
//  var flag = false;
  
//  var worker = setInterval (()=>{
//    console.log('worker - work');
//         if(flag === true){             
//             /* do something*/
//              clearInterval (worker);
//           console.log('DONE');
//         } 
//    },200);
//  
//  setInterval (()=>{
//   flag=true;
//  },2000);
  
////-----
//  02)ПРИМЕР C PROMISE
var flag = false;
  
  setInterval (()=>{
   flag=true;
  },2000);
  
  var asyncRun = async () =>{
    console.log('asyncRun');
    await new Promise(resolve => {
        var worker = setInterval (()=>{
          console.log('worker - work');
          if(flag === true){             
            clearInterval (worker);
            resolve();
            console.log('DONE');
          }
        },200);

    });
    console.log('resolveed');
  };
  asyncRun();
	</script>
</body>
</html>