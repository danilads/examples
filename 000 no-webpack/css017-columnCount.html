<!DOCTYPE html> 
<html>
<head>
	<meta charset="utf-8" />
	<title></title>
	<style>
		.wrapper1{
			border: 1px solid black;
			 column-count:3;
		}
		.wrapper2{
			border: 1px solid black;
			column-count:3;
		}
		.block1{
			display: block;
			border: 1px solid red;
			width: 50px;
			height: 50px;
		}
		.block2{
			break-inside: avoid-column;
			display: block;
			outline: 1px solid red;
			width: 50px;
			height: 50px;
		}
		.block3{
			break-inside: avoid-column;
			display: block;
			outline: 1px solid greenyellow;
			width: 49px;
			height: 49px;
		}
		.block4{
			break-inside: avoid-column;
			display: block;
			outline: 1px solid darkgoldenrod;
			width: 100px;
			height: 100px;
		}
	</style>
</head>
<body>
	<div>column-count:3  - разбивает блоки</div>
	<div class="wrapper1">
		<span class="block1"></span><span class="block1"></span><span class="block1"></span><span class="block1"></span><span class="block1"></span><span class="block1"></span><span class="block1"></span>
	</div>
	<div>break-inside: avoid-column</div>
	<div class="wrapper2">
		<span class="block2"></span><span class="block2"></span><span class="block2"></span><span class="block2"></span><span class="block2"></span><span class="block2"></span><span class="block2"></span>
	</div>
	<div>последний блок меньше остальных</div>
	<div class="wrapper2">
		<span class="block2"></span><span class="block2"></span><span class="block2"></span><span class="block2"></span><span class="block2"></span><span class="block2"></span><span class="block3"></span>
	</div>
	<div>первый блок в два раза больше остальных</div>
	<div class="wrapper2">
		<span class="block4"></span><span class="block2"></span><span class="block2"></span><span class="block2"></span><span class="block2"></span><span class="block2"></span><span class="block2"></span>
	</div>
</body>
</html>